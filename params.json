{"name":"Webmin","tagline":"A collection of scripts, configurations and the like for Webmin","body":"# Webmin\r\n\r\nA collection of scripts, configurations and the like for Webmin\r\n\r\n## What is this for?\r\n\r\nBasically, it's to help me work with `Webmin`. I decided to use [Webmin](http://webmin.com) as the router interface, using `Ubuntu 14.04.3 LTS` as the base OS. No, not the desktop variant. The Server variant.\r\n\r\n### Enabling SSL with Let's Encrypt for Webmin\r\n\r\nI won't go into detail on how to get `lets-encrypt` working. There's [Let's Encrypt Github](https://github.com/letsencrypt/letsencrypt) for that.\r\n\r\nThis is the following configuration that works for me personally, giving us true HTTPS with Webmin.\r\n\r\nEdit `/etc/webmin/miniserv.conf` and either add the following or edit the existing SSL options that're shown below to something similar to the below configurations. If you're unsure, simply remove the existing options and add the following to the bottom of `miniserv.conf` and do a `service webmin restart`:\r\n\r\n```\r\nkeyfile=/etc/letsencrypt/live/exampledomain.com/privkey.pem\r\ncertfile=/etc/letsencrypt/live/exampledomain.com/fullchain.pem\r\nssl=1\r\nssl_redirect=1\r\n#ssl_version=10 # For some reason, Webmin doesn't respect this particular setting and thus, cause your Webmin to load with TLS 1.0 instead, which is what we DON'T want. Also, delete the comment when pasting this into miniserv.conf because Webmin will throw that shit out.\r\nHeader always set Strict-Transport-Security \"max-age=63072000; includeSubdomains; preload\"\r\nno_tls1_1=\r\nno_ssl2=1\r\nextracas=\r\nno_ssl3=1\r\nno_sslcompression=1\r\nno_tls1_2=\r\nssl_honorcipherorder=0\r\nno_tls1=1\r\n```\r\n\r\n#### Enabling SSL Certificate Renewals with Let's Encrypt for Webmin\r\n\r\nSo, to automate `lets-encrypt` on `Webmin`, you'll need to create a `bash` script. Thanks to [Cyclops](https://blazingumbra.com) for the `bash` script that works for automating `lets-encrypt` cert renewals!\r\n\r\nThis is the following configuration that works for me personally, giving us true lets-encrypt automation with Webmin. Note that the order of certonly is important.\r\n\r\n`renew.sh` contains the following code:\r\n\r\n```\r\n#!/bin/bash\r\n# Get new keys!\r\n/root/letsencrypt/letsencrypt-auto -c /root/cli.ini certonly\r\n\r\n# Reload Servoces\r\nservice webmin restart\r\n```\r\n\r\n`cli.ini` contains the following:\r\n\r\n```\r\n# LE Configuration\r\nrsa-key-size = 4096\r\nemail = example@example.com\r\ndomains = example.com\r\nrenew-by-default = True\r\ntext = True\r\nagree-tos\r\n```","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}